#!/bin/sh
set -f  # 禁用路径扩展
export PATH="$HOME/sh/tools:$PATH"
export PATH="$HOME/sh:$PATH"
cd ~/sh/app/youtube2music
source e2s config

temp_local="temp"
while [[ -d "$temp_local" ]]; do
  temp_local="temp"${i}
  ((i++))
done
export temp=$temp_local
mkdir $temp_local

if [[ $1 == "-version" ]]; then
    echo $version
elif [[ $1 == "-readme" ]]; then
    op README.md
elif [[ $1 == -h ]]; then
    cat help
elif [[ $1 == -c ]]; then
    op config
elif [[ $1 == -p ]]; then
    cp ./resources/video_configs/$2 ./$temp_local/video_config
    ./app "${@:3}"
else
    cp ./resources/video_configs/$defalut ./$temp_local/video_config
    ./app $@
fi

rm -r $temp_local
set +f
